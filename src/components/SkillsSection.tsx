import {
  Box,
  Heading,
  List,
  ListItem,
  VStack,
  createIcon,
  PositionProps,
  ResponsiveValue,
  Icon,
  Tooltip,
  VisuallyHidden,
} from "@chakra-ui/react";
import {
  HTML5Icon,
  CSS3Icon,
  JavaScriptIcon,
  SassIcon,
  BootstrapIcon,
  VueIcon,
  ReactIcon,
  GatsbyIcon,
  TailwindIcon,
  ChakraIcon,
  NextIcon,
} from "@/svg-icons";
import { useTranslation } from "next-i18next";

export const SkillsSection = () => {
  const { t } = useTranslation();

  const skills: Array<
    Pick<PositionProps, "top" | "left" | "right" | "bottom"> & {
      Icon: typeof Icon;
      label: string;
    }
  > = [
    {
      Icon: HTML5Icon,
      left: "2",
      top: "-4",
      label: "HTML5",
    },
    {
      Icon: CSS3Icon,
      left: ["20", null, "24"],
      top: ["-5", null, "-7"],
      label: "CSS3",
    },
    {
      Icon: JavaScriptIcon,
      left: ["40", null, "48"],
      top: ["-2", null, "-4"],
      label: "JavaScript",
    },
    {
      Icon: SassIcon,
      right: ["14", null, "20"],
      top: ["10", null, "14"],
      label: "SASS",
    },
    {
      Icon: BootstrapIcon,
      left: ["44", null, "56"],
      top: ["24", null, "36"],
      label: "Bootstrap",
    },
    {
      Icon: VueIcon,
      left: ["24", null, "28"],
      top: ["32", null, "44"],
      label: "VueJS",
    },
    {
      Icon: ReactIcon,
      left: "4",
      top: ["32", null, "48"],
      label: "ReactJS",
    },
    {
      Icon: GatsbyIcon,
      left: ["4", null, "2"],
      bottom: ["4", null, "8"],
      label: "GatsbyJS",
    },
    {
      Icon: TailwindIcon,
      left: ["20", null, "24"],
      bottom: "-3",
      label: "TailwindCSS",
    },
    {
      Icon: ChakraIcon,
      right: ["24", null, "36"],
      bottom: ["-4", null, "-6"],
      label: "Chakra UI",
    },
    {
      Icon: NextIcon,
      right: ["8", null, "12"],
      bottom: ["-1", null, "-2"],
      label: "NextJS",
    },
  ];

  return (
    <VStack spacing={{ base: "16", md: "20" }}>
      <Heading as="h3" size="2xl">
        {t("skills-title")}
      </Heading>
      <Box position="relative" w={{ base: "311px", md: "md" }}>
        <JourneyLine />
        <Box position="absolute" inset={0}>
          <List aria-label="skills">
            {skills.map(({ Icon, label, ...rest }, idx) => (
              <ListItem key={idx} position="absolute" {...rest}>
                <Tooltip
                  hasArrow
                  label={label}
                  bg="white"
                  color="background "
                  placement="auto-start"
                >
                  <Icon w="auto" h={{ base: "10", md: "16" }} aria-hidden />
                </Tooltip>
                <VisuallyHidden>{label}</VisuallyHidden>
              </ListItem>
            ))}
          </List>
        </Box>
      </Box>
    </VStack>
  );
};

const JourneyLine = createIcon({
  viewBox: "0 0 347 300",
  defaultProps: {
    width: "full",
    height: "auto",
    color: "primary.base",
  },
  d: "M346.724 269.187C347.418 267.683 346.762 265.9 345.257 265.206L320.743 253.89C319.238 253.196 317.456 253.853 316.762 255.357C316.067 256.861 316.724 258.644 318.228 259.338L340.019 269.396L329.961 291.187C329.266 292.691 329.923 294.474 331.427 295.168C332.932 295.862 334.714 295.206 335.408 293.701L346.724 269.187ZM117.64 156.342L117.966 159.325L117.64 156.342ZM342.963 265.115C339.978 266.214 337 267.278 334.029 268.306L335.992 273.976C338.999 272.935 342.015 271.858 345.037 270.745L342.963 265.115ZM308.584 276.32C302.502 278.047 296.461 279.628 290.467 281.07L291.869 286.903C297.943 285.443 304.062 283.841 310.223 282.092L308.584 276.32ZM264.342 286.539C258.114 287.649 251.947 288.611 245.848 289.43L246.647 295.377C252.831 294.546 259.082 293.571 265.395 292.446L264.342 286.539ZM219.285 292.154C212.957 292.6 206.719 292.894 200.578 293.044L200.725 299.042C206.957 298.889 213.287 298.591 219.707 298.139L219.285 292.154ZM173.896 292.791C167.53 292.51 161.295 292.074 155.201 291.493L154.632 297.466C160.828 298.057 167.164 298.5 173.632 298.785L173.896 292.791ZM128.871 287.964C122.567 286.864 116.459 285.605 110.562 284.205L109.175 290.042C115.192 291.471 121.418 292.754 127.84 293.875L128.871 287.964ZM84.9832 276.82C78.8767 274.714 73.092 272.449 67.6517 270.049L65.2305 275.539C70.8311 278.009 76.7715 280.335 83.0274 282.492L84.9832 276.82ZM44.3712 257.674C38.8098 254.094 33.9032 250.369 29.6917 246.56L25.6667 251.009C30.151 255.066 35.3241 258.986 41.1239 262.719L44.3712 257.674ZM14.3226 226.426C11.8459 220.698 11.025 215.069 11.8852 209.659L5.95961 208.717C4.89616 215.406 5.95253 222.186 8.81533 228.808L14.3226 226.426ZM24.5876 189.101C28.6005 185.634 33.6089 182.295 39.6976 179.162L36.9518 173.827C30.5201 177.137 25.0989 180.73 20.6646 184.562L24.5876 189.101ZM64.191 169.552C69.7223 167.89 75.7237 166.352 82.2115 164.956L80.9492 159.091C74.3205 160.517 68.1632 162.094 62.4644 163.806L64.191 169.552ZM108.353 160.484C111.475 160.071 114.679 159.684 117.966 159.325L117.314 153.36C113.983 153.724 110.733 154.116 107.565 154.536L108.353 160.484ZM117.966 159.325C121.267 158.964 124.505 158.578 127.683 158.167L126.914 152.217C123.776 152.622 120.577 153.004 117.314 153.36L117.966 159.325ZM154.469 153.858C161.02 152.577 167.248 151.175 173.156 149.663L171.669 143.85C165.878 145.332 159.763 146.709 153.317 147.97L154.469 153.858ZM199.21 141.558C205.638 139.144 211.538 136.567 216.92 133.849L214.215 128.493C209.045 131.105 203.346 133.596 197.101 135.941L199.21 141.558ZM240.012 118.797C245.493 114.076 249.861 109.101 253.118 103.944L248.044 100.74C245.15 105.324 241.196 109.859 236.096 114.25L240.012 118.797ZM260.035 76.397C259.369 69.902 257.145 63.5143 253.515 57.392L248.354 60.4519C251.596 65.9201 253.499 71.4811 254.067 77.0094L260.035 76.397ZM234.674 36.7619C229.845 32.9924 224.375 29.4207 218.297 26.0929L215.415 31.3557C221.24 34.5447 226.435 37.9417 230.982 41.4916L234.674 36.7619ZM193.194 15.0109C187.423 12.97 181.313 11.1031 174.875 9.43179L173.368 15.2393C179.648 16.8696 185.593 18.6869 191.193 20.6675L193.194 15.0109ZM148.072 3.9437C141.948 2.99634 135.602 2.20761 129.04 1.59082L128.479 7.56448C134.925 8.17044 141.152 8.94461 147.155 9.87317L148.072 3.9437ZM101.999 0.078125C95.7779 -0.0450439 89.3989 -0.0234375 82.8671 0.151764L83.028 6.14963C89.4683 5.97684 95.7541 5.95569 101.881 6.07693L101.999 0.078125ZM55.7521 1.70926C49.5404 2.25018 43.2109 2.92404 36.7673 3.73727L37.5186 9.69006C43.8865 8.88638 50.139 8.22076 56.2726 7.68665L55.7521 1.70926ZM9.93974 7.82932C6.79121 8.39069 3.61879 8.98431 0.422847 9.61087L1.57715 15.4988C4.73963 14.8788 7.87834 14.2915 10.9929 13.7361L9.93974 7.82932Z",
});
